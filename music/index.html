<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="icon" href="https://yuze.netlify.app/home/img/66f025c10699e.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YUZE-IT 音乐播放器</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #ff9a9e; /* 淡粉色 */
            --accent-color: #a0d9f6;  /* 淡蓝色 */
            --secondary-color: #f5c3d8;
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
            --text-color: #4a4a4a;
            --text-light: #7f8c8d;
            --card-bg: rgba(255, 255, 255, 0.95);
            --card-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #fff5f7 0%, #e6f0f5 100%);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* 顶部导航栏样式 */
        .top-nav {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .nav-links {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            width: 100%;
            justify-content: center;
        }

        .nav-links li {
            margin: 0 1rem;
            position: relative;
        }

        .nav-links a {
            display: block;
            padding: 1.2rem 0.8rem;
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: color var(--transition), transform var(--transition);
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links a:hover {
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        .nav-links a.active {
            color: var(--primary-color);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 3px;
        }

        /* 音乐页面样式 */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
            flex: 1;
            width: 100%;
        }

        .page-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2.5rem;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
        }

        .music-content {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .playlist-container {
            flex: 1;
            min-width: 300px;
        }

        .player-container {
            flex: 2;
            min-width: 300px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            padding: 2rem;
            transition: var(--transition);
        }

        .playlist {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            padding: 1.5rem;
            list-style: none;
        }

        .playlist h3 {
            color: var(--dark-color);
            margin-bottom: 1rem;
            font-size: 1.2rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        .playlist li {
            margin: 0.8rem 0;
            transition: var(--transition);
        }

        .playlist a {
            color: var(--text-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.5rem;
            border-radius: 8px;
            transition: var(--transition);
        }

        .playlist a:hover {
            background-color: rgba(255, 154, 158, 0.1);
            color: var(--primary-color);
            transform: translateX(5px);
        }

        .playlist a.active-song {
            background-color: rgba(255, 154, 158, 0.2);
            color: var(--primary-color);
            font-weight: 500;
        }

        .song-icon {
            color: var(--primary-color);
        }

        /* 播放器样式 */
        .current-song-title {
            font-size: 1.8rem;
            color: var(--dark-color);
            margin-bottom: 1rem;
            text-align: center;
        }

        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 1.5rem 0;
        }

        #progressBar {
            width: 60%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            appearance: none;
            margin: 0 1rem;
            cursor: pointer;
        }

        #progressBar::-webkit-progress-bar {
            background-color: #e0e0e0;
            border-radius: 4px;
        }

        #progressBar::-webkit-progress-value {
            background-color: var(--primary-color);
            border-radius: 4px;
        }

        #playPauseBtn {
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4);
            transition: var(--transition);
        }

        #playPauseBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(255, 154, 158, 0.5);
        }

        .time-display {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        #lyrics {
            margin-top: 2rem;
            text-align: center;
            font-size: 1.1rem;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .music-content {
                flex-direction: column;
            }

            #progressBar {
                width: 50%;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="top-nav">
        <div class="nav-container">
            <ul class="nav-links">
                <li><a href="../index.html"><i class="fas fa-home"></i> 首页</a></li>
                <li><a href="../about.html"><i class="fas fa-user"></i> 关于我</a></li>
                <li><a href="../blog/blog.html"><i class="fas fa-blog"></i> 博客</a></li>
                <li><a href="../stats.html"><i class="fas fa-chart-line"></i> 统计</a></li>
                <li><a href="index.html" class="active"><i class="fas fa-music"></i> 音乐</a></li>
                <li><a href="../links.html"><i class="fas fa-link"></i> 链接</a></li>
                <li><a href="../ai.html"><i class="fas fa-robot"></i> AI助手</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>YUZE-IT 音乐播放器</h1>
        </div>

        <div class="music-content">
            <div class="playlist-container">
                <ul class="playlist">
                    <h3>歌单</h3>
                    <li><a href="#" data-song="GGBond" data-src="GGBond.mp3" data-lrc="GGBond.lrc"><span class="song-icon"><i class="fas fa-music"></i></span> GGBond</a></li>
                    <li><a href="#" data-song="Believer" data-src="Believer.mp3" data-lrc="Believer.lrc"><span class="song-icon"><i class="fas fa-music"></i></span> Believer</a></li>
                    <li><a href="#" data-song="Baby" data-src="baby.mp3" data-lrc="baby.lrc"><span class="song-icon"><i class="fas fa-music"></i></span> Baby</a></li>
                </ul>
            </div>

            <div class="player-container">
                <h2 class="current-song-title" id="currentSongTitle">请选择一首歌曲开始播放</h2>
                
                <div class="player-controls">
                    <span class="time-display" id="currentTime">00:00</span>
                    <progress id="progressBar" value="0" max="1"></progress>
                    <span class="time-display" id="duration">00:00</span>
                </div>

                <div style="text-align: center;">
                    <button id="playPauseBtn"><i class="fas fa-play"></i></button>
                </div>

                <div id="lyrics">歌词将在这里显示</div>
            </div>
        </div>
    </div>

    <audio id="audio" src=""></audio>

    <script>
        const audio = document.getElementById('audio');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const progressBar = document.getElementById('progressBar');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const lyricsDiv = document.getElementById('lyrics');
        const currentSongTitle = document.getElementById('currentSongTitle');
        const playlistItems = document.querySelectorAll('.playlist a');

        let isPlaying = false;
        let lyrics = [];
        let currentSong = null;

        // 播放按钮点击事件
        playPauseBtn.addEventListener('click', togglePlay);

        // 歌曲列表点击事件
        playlistItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const song = this.getAttribute('data-song');
                const src = this.getAttribute('data-src');
                const lrc = this.getAttribute('data-lrc');

                // 更新选中状态
                playlistItems.forEach(i => i.classList.remove('active-song'));
                this.classList.add('active-song');

                // 加载并播放歌曲
                loadSong(song, src, lrc);
            });
        });

        // 进度条点击事件
        progressBar.addEventListener('click', function(e) {
            const percent = e.offsetX / this.offsetWidth;
            audio.currentTime = percent * audio.duration;
        });

        // 音频时间更新事件
        audio.addEventListener('timeupdate', updateProgress);

        // 音频加载完成事件
        audio.addEventListener('loadedmetadata', function() {
            durationEl.textContent = formatTime(audio.duration);
        });

        // 播放结束事件
        audio.addEventListener('ended', function() {
            playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            isPlaying = false;
        });

        // 加载歌曲函数
        function loadSong(song, src, lrc) {
            currentSong = song;
            currentSongTitle.textContent = song;
            audio.src = src;
            loadLyrics(lrc);

            // 自动播放
            if (!isPlaying) {
                togglePlay();
            }
        }

        // 播放/暂停切换函数
        function togglePlay() {
            if (currentSong === null) {
                // 如果没有选择歌曲，默认选择第一首
                if (playlistItems.length > 0) {
                    playlistItems[0].click();
                }
                return;
            }

            if (isPlaying) {
                audio.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            } else {
                audio.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }
            isPlaying = !isPlaying;
        }

        // 更新进度条函数
        function updateProgress() {
            const percent = (audio.currentTime / audio.duration) * 100;
            progressBar.value = percent;
            currentTimeEl.textContent = formatTime(audio.currentTime);
            updateLyrics(audio.currentTime);
        }

        // 格式化时间函数
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // 加载歌词函数
        function loadLyrics(lrcFile) {
            lyrics = [];
            lyricsDiv.textContent = '歌词加载中...';

            fetch(lrcFile)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.text();
                })
                .then(text => {
                    const lines = text.split('\n');
                    lines.forEach(line => {
                        const match = line.match(/\[(\d+):(\d+\.\d+)\](.*)/);
                        if (match) {
                            const minute = parseInt(match[1], 10);
                            const second = parseFloat(match[2]);
                            const time = minute * 60 + second;
                            lyrics.push({ time, text: match[3] });
                        }
                    });
                    lyricsDiv.textContent = '歌词加载完毕';
                })
                .catch(error => {
                    console.error('无法加载歌词:', error);
                    lyricsDiv.textContent = '无法加载歌词';
                });
        }

        // 更新歌词显示函数
        function updateLyrics(currentTime) {
            for (let i = 0; i < lyrics.length; i++) {
                if (currentTime < lyrics[i].time) {
                    lyricsDiv.textContent = lyrics[i - 1]?.text || '';
                    break;
                }
                // 如果是最后一句歌词
                if (i === lyrics.length - 1 && currentTime >= lyrics[i].time) {
                    lyricsDiv.textContent = lyrics[i].text;
                }
            }
        }
    </script>
</body>
</html>